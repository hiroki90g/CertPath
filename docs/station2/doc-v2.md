# 要件定義

## 1.身の回りの課題
**メインペイン**: IT資格取得のためのタスク洗い出しに30分〜1時間かかり、モチベーション維持が困難

**具体的な課題**:
- **タスク設計の非効率性**: 資格取得に必要なタスクを毎回ゼロから考える必要がある
- **情報収集の手間**: ブログやYouTubeから成功事例を探し、手動でタスク化する作業
- **孤独な学習**: 一人だと継続が困難、モチベーション維持が課題
- **信頼性の不安**: 自分が立てた学習計画が適切かわからない

**現状の問題点**:
- ToDoアプリでタスクをリストアップしても、複数プロジェクトの区別が困難
- 目的のためのタスクセット定義に時間がかかりすぎる
- ブログやYouTubeの成功事例から手動でタスク抽出する手間

## 2.ターゲット
**プライマリターゲット**: IT系新人エンジニア（社会人2-3年目）

**詳細ペルソナ**:
- **年齢**: 24-27歳
- **職種**: エンジニア、IT関連職
- **現在のタスク管理**: スマホメモアプリ、Notion
- **学習目標**: IT系資格取得（ITパスポート、基本情報、応用情報、Salesforce、AWS等）
- **性格**: 少し面倒くさがり、一人だとサボりがち、人に見られると頑張れる
- **利用シーン**: 主に土日の自己研鑽時間
- **ニーズ**: タスク洗い出しの効率化、モチベーション維持

## 3.その課題の解決策、どんな価値が提供できるか
**提供価値**:
1. **タスク設計の効率化**: 2-3分で学習計画を立てられる
2. **実証済みの学習パス**: 先人の成功事例をベースにした信頼性の高いタスクリスト
3. **コミュニティによるモチベーション維持**: 同じ資格を目指す仲間との進捗共有
4. **継続支援**: 孤独感の解消と相互励まし機能

**具体的なソリューション**:
- IT資格のタスクリストテンプレート提供
- テンプレートのコピー＆カスタマイズ機能
- 同じ資格挑戦者との進捗共有プラットフォーム
- 相互励まし機能（いいね、応援メッセージ）

## 4. 実現したいこと（機能要求）
### コア価値の実現
- **複数のタスクとプロジェクトのテンプレートの保存**
  - 資格ごとの学習パスをテンプレート化
  - 先人の成功事例を構造化して蓄積
- **テンプレートをコピーして自分のプロジェクトを作成できる**
  - ワンクリックでプロジェクト開始
  - カスタマイズ可能な学習計画
- **自分のプロジェクトを保存できる**
  - 自分なりの目標設定
  - 複数の資格に同時チャレンジ可能
- **プロジェクトに紐づいてタスクを保存できる**
  - 学習進捗の詳細管理
  - タスクの追加・編集

### 継続支援の実現
- **タスクを完了のステータスにし、プロジェクトの進捗を表示できる**
  - 視覚的な達成感の提供
  - モチベーション維持のための進捗可視化
- **コミュニティで、同じ資格を目指す人とメッセージで励まし合える**
  - 孤独感の解消
  - 相互刺激による継続率向上

### 将来の展開（拡張機能）
- **タスクに通知日を設定し、ユーザーに通知が来るようにする**
  - 学習習慣の定着支援
  - 忘れ防止のリマインダー機能
- **ユーザーのフォロー機能**
  - より深いコミュニティ体験
  - ロールモデルとの繋がり
- **目標達成した時のお祝い表示**
  - 達成感の最大化
  - 次の目標への動機づけ

## 5. 要件定義
### 5.1 機能要件
#### 5.1.1 コア機能
**ユーザー認証機能**
- Googleアカウントでのログイン（Supabase Auth使用）
- プロフィール設定（ニックネーム、目標資格、学習開始日、プロフィール画像）

**資格テンプレート機能**
- IT資格のタスクリストテンプレート表示
- 対象資格：ITパスポート、基本情報技術者、応用情報技術者、Salesforce関連資格、AWS関連資格...etc
- テンプレート詳細：資格名、説明、難易度、推定学習期間、合格点、受験料

**プロジェクト管理機能**
- テンプレートからのプロジェクト作成
- プロジェクト名のカスタマイズ
- 目標試験日の設定
- 進捗率の自動計算（完了タスク数/総タスク数）
- 学習時間の記録

**タスクリスト管理機能**
- タスクの追加・削除・編集
- タスクの完了/未完了切り替え
- 推定学習時間の設定
- タスクの表示順序変更
- タスクのコピー機能（他のユーザーの公開タスクから）
- メモ機能（タスクごとの学習記録）

### 5.1.2 差別化機能（コミュニティ機能）
**同じ資格挑戦者表示**
- 同じ資格を目指している他のユーザーの一覧表示
- ユーザーの進捗率とニックネームの表示

**進捗共有機能**
- 自分の進捗を他のユーザーに公開（ON/OFF切り替え可能）
- 完了タスクの公開機能
- アクティビティフィード（タスク完了通知、メッセージ）

**相互励まし機能**
- 他のユーザーのアクティビティに「いいね」を送信
- ユーザー間のフォロー機能
- 資格合格報告機能

### 5.2 非機能要件

#### 5.2.1 パフォーマンス要件
- ページロード時間：3秒以内
- リアルタイム更新：進捗変更が1秒以内に他ユーザーに反映

#### 5.2.2 ユーザビリティ要件
- PCブラウザで表示（1200px〜1920px対応）
- 直感的なUI/UX（説明不要で使える）
- モバイル対応（レスポンシブデザイン）

#### 5.2.3 セキュリティ要件
- Supabase Row Level Security（RLS）によるデータアクセス制御
- ユーザーデータの適切な匿名化
- 不適切なコンテンツのフィルタリング

### 5.3 データベース設計（Supabase PostgreSQL）

#### 5.3.1 users テーブル
| フィールド名 | データ型 | 必須 | デフォルト値 | 説明 | バリデーション | 例 |
|---|---|---|---|---|---|---|
| id | uuid | ○ | gen_random_uuid() | Supabase Auth UID | UUID形式 | abc123def456 |
| display_name | text | ○ | - | 表示名 | 1-200文字 | 太郎 |
| email | text | ○ | - | メールアドレス | メールアドレス形式、ユニーク | taro@example.com |
| target_certification | text |  | null | 目標資格 | 最大200文字 | 基本情報技術者 |
| start_date | timestamptz |  | null | 学習開始日 | タイムスタンプ型 | 2025-01-15T00:00:00Z |
| is_progress_public | boolean | ○ | true | 進捗公開フラグ | true/false | true |
| profile_image | text |  | null | プロフィール画像URL | 画像URL | https://storage.certpath.com/... |
| created_at | timestamptz | ○ | now() | 作成日時 | サーバータイムスタンプ | 2025-01-01T10:00:00Z |
| updated_at | timestamptz | ○ | now() | 更新日時 | サーバータイムスタンプ | 2025-01-01T10:00:00Z |

#### 5.3.2 certifications テーブル（資格テンプレート）
| フィールド名 | データ型 | 必須 | デフォルト値 | 説明 | バリデーション | 例 |
|---|---|---|---|---|---|---|
| id | uuid | ○ | gen_random_uuid() | テンプレートID | UUID形式 | basic_info_2025 |
| name | text | ○ | -  | 資格名 | 1-200文字 | 基本情報技術者試験 |
| description | text | ○ | - | 資格説明 | 最大2000文字 | ITエンジニアの基礎知識を問う国家試験 |
| category | text | ○ | null | カテゴリ | IT/AWS/Salesforce... | IT基礎 |
| estimated_period | integer | ○ | - | 推定学習期間（日） | 正の整数 | 90 |
| difficulty_level | text | ○ | - | 難易度 | 初級/中級/上級 | 初級 |
| official_url | text |  | - | 公式サイトURL | URL形式 | https://www.jitec.ipa.go.jp/ |
| passing_score | integer |  | - | 合格点 | 数字 | 60 |
| exam_fee | integer |  | - | 受験料（円） | 数字 | 7500 |
| is_active | boolean | ○ | false | 有効フラグ | true/false | true |
| created_at | timestamptz | ○ | now() | 作成日時 | サーバータイムスタンプ | 2025-01-01T10:00:00Z |
| updated_at | timestamptz | ○ | now() | 更新日時 | サーバータイムスタンプ | 2025-01-01T10:00:00Z |

#### 5.3.3 projects テーブル（ユーザープロジェクト）
| フィールド名 | データ型 | 必須 | デフォルト値 | 説明 | バリデーション | 例 |
|---|---|---|---|---|---|---|
| id | uuid | ○ | gen_random_uuid() | プロジェクトID | UUID形式 | proj_user1_001 |
| user_id | uuid | ○ | - | ユーザーID | usersテーブルへの参照 | abc123def456 |
| certification_id | uuid | ○ | - | 資格ID | certificationsテーブルへの参照 | basic_info_2025 |
| project_name | text | ○ | null | プロジェクト名 | 1-200文字 | 基本情報 2025年春試験 |
| target_date | timestamptz |  | null | 目標試験日 | タイムスタンプ型 | 2025-04-20T00:00:00Z |
| status | text | ○ | 'active' | ステータス | active/pending/done | active |
| progress_percentage | integer | ○ | 0 | 進捗率 | 0-100の整数 | 65 |
| total_tasks | integer |  | 0 | 総タスク数 | 整数、紐づくTasksの合計数 | 25 |
| completed_tasks | integer |  | 0 | 完了タスク数 | 整数、紐づく完了Tasksの合計数 | 16 |
| total_estimated_hours | decimal |  | 0 | 総推定時間 | 数値、Tasksの合計時間 | 120 |
| studied_hours | decimal | ○ | 0 | 学習済み時間 | 数値 | 80 |
| created_at | timestamptz | ○ | now() | 作成日時 | サーバータイムスタンプ | 2025-01-01T10:00:00Z |
| updated_at | timestamptz | ○ | now() | 更新日時 | サーバータイムスタンプ | 2025-01-01T10:00:00Z |

#### 5.3.4 tasks テーブル
| フィールド名 | データ型 | 必須 | デフォルト値 | 説明 | バリデーション | 例 |
|---|---|---|---|---|---|---|
| id | uuid | ○ | gen_random_uuid() | タスクID | UUID形式 | task_001 |
| user_id | uuid | ○ | - | 作成ユーザーID | usersテーブルへの参照 | user_001 |
| project_id | uuid | ○ | - | プロジェクトID | projectsテーブルへの参照 | proj_user1_001 |
| title | text | ○ | - | タスク名 | 1-200文字 | 基礎理論の学習 |
| description | text |  | null | タスク詳細 | 最大2000文字 | カスタマイズした説明 |
| estimated_hours | decimal | ○ | - | 推定学習時間 | 数値型 | 25 |
| is_completed | boolean | ○ | false | 完了フラグ | true/false | false |
| is_public | boolean | ○ | false | 公開フラグ | is_completed=trueの時のみtrue可能 | false |
| completed_at | timestamptz |  | null | 完了日時 | is_public=trueの時必須 | 2025-01-15T10:30:00Z |
| copy_count | integer | ○ | 0 | コピー回数 | 0以上の整数 | 4 |
| original_task_id | uuid |  | null | 元タスクID | tasksテーブルへの参照（コピー時） | task_002 |
| order_index | integer | ○ | 0 | 表示順序 | 0以上の整数、同じプロジェクトの中で重複無し | 1 |
| notes | text |  | null | メモ | 最大2000文字 | 難しかったが理解できた |
| created_at | timestamptz | ○ | now() | 作成日時 | サーバータイムスタンプ | 2025-01-01T10:00:00Z |
| updated_at | timestamptz | ○ | now() | 更新日時 | サーバータイムスタンプ | 2025-01-01T10:00:00Z |

#### 5.3.5 activities テーブル（コミュニティ活動）
| フィールド名 | データ型 | 必須 | デフォルト値 | 説明 | バリデーション | 例 |
|---|---|---|---|---|---|---|
| id | uuid | ○ | gen_random_uuid() | アクティビティID | UUID形式 | activity_001 |
| user_id | uuid | ○ | - | ユーザーID | usersテーブルへの参照 | abc123def456 |
| project_id | uuid | ○ | - | プロジェクトID | projectsテーブルへの参照 | proj_user1_001 |
| completed_task_title | text |  | null | 完了したタスク名 | 1-200文字 | 基礎理論の学習 |
| message | text |  | null | メッセージ | 最大2000文字 | 基礎理論の学習完了！ |
| likes_count | integer | ○ | 0 | いいね数 | ひもづくlikesの合計数 | 3 |
| created_at | timestamptz | ○ | now() | 作成日時 | サーバータイムスタンプ | 2025-01-01T10:00:00Z |

#### 5.3.6 likes テーブル（一意の組み合わせのみ）
| フィールド名 | データ型 | 必須 | デフォルト値 | 説明 | バリデーション | 例 |
|---|---|---|---|---|---|---|
| id | uuid | ○ | gen_random_uuid() | いいねID | UUID形式 | like_001 |
| user_id | uuid | ○ | - | いいねしたユーザーID | usersテーブルへの参照 | user123 |
| activity_id | uuid | ○ | - | 対象アクティビティID | activitiesへの参照 | activity_001 |
| created_at | timestamptz | ○ | now() | 作成日時 | サーバータイムスタンプ | 2025-01-01T10:00:00Z |

#### 5.3.7 user_follows テーブル（自己フォロー防止、重複フォロー防止）
| フィールド名 | データ型 | 必須 | デフォルト値 | 説明 | バリデーション | 例 |
|---|---|---|---|---|---|---|
| id | uuid | ○ | gen_random_uuid() | フォローID | UUID形式 | follow_001 |
| user_id | uuid | ○ | - | フォローしたユーザーID | usersテーブルへの参照 | user123 |
| followed_user_id | uuid | ○ | - | フォローされたユーザーID | usersテーブルへの参照 | user456 |
| created_at | timestamptz | ○ | now() | フォロー日時 | サーバータイムスタンプ | 2025-01-01T10:00:00Z |

### 5.4 画面設計

#### 5.4.1 主要画面一覧

1. **ログイン画面**
   - Googleログインボタン
   - アプリ概要説明

2. **資格選択画面**
   - 対応資格一覧表示
   - 各資格の概要、難易度、推定期間、受験料

3. **テンプレート詳細画面**
   - 資格詳細情報表示
   - 「このテンプレートを使う」ボタン

4. **マイプロジェクト画面**
   - 進捗ダッシュボード（進捗率、完了タスク数、学習時間）
   - タスク一覧（完了/未完了）
   - タスク編集・追加機能

5. **コミュニティ画面**
   - 同じ資格挑戦者一覧
   - アクティビティフィード
   - いいね機能

6. **プロフィール設定画面**
   - ニックネーム変更
   - 進捗公開設定
   - プロフィール画像設定
   - フォロー管理



